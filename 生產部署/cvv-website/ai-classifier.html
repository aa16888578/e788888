<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI åˆ†é¡ç³»çµ± - CVV Bot å¾Œå°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f6fa;
            color: #2c3e50;
            margin: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 200;
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .main-content {
            display: flex;
            flex: 1;
            margin-top: 80px;
        }
        
        .sidebar {
            width: 280px;
            background: white;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            padding: 20px;
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
            padding-top: 100px;
        }
        
        .sidebar-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 20px;
            color: #2c3e50;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 10px;
        }
        
        .sidebar-item {
            display: block;
            padding: 12px 15px;
            margin-bottom: 8px;
            background: #f8f9fa;
            border: none;
            border-radius: 8px;
            text-decoration: none;
            color: #2c3e50;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .sidebar-item:hover {
            background: #667eea;
            color: white;
            transform: translateX(5px);
        }
        
        .sidebar-item.active {
            background: #667eea;
            color: white;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
            margin-left: 280px;
            width: calc(100% - 280px);
        }
        
        .tab-container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .tab-header {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #ecf0f1;
        }
        
        .tab-btn {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: transparent;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .tab-btn.active {
            background: #667eea;
            color: white;
        }
        
        .tab-btn:hover:not(.active) {
            background: #e9ecef;
        }
        
        .tab-content {
            padding: 30px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .form-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .form-textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            font-size: 14px;
            min-height: 120px;
            resize: vertical;
            font-family: 'Courier New', monospace;
        }
        
        .form-textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 14px;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
        }
        
        .btn-primary:hover {
            background: #5a67d8;
        }
        
        .btn-success {
            background: #27ae60;
            color: white;
        }
        
        .btn-success:hover {
            background: #219a52;
        }
        
        .btn-danger {
            background: #e74c3c;
            color: white;
        }
        
        .btn-danger:hover {
            background: #c0392b;
        }
        

        
        .result-box {
            background: #f8f9fa;
            border: 1px solid #ecf0f1;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            white-space: pre-wrap;
        }
        
        .success-result {
            background: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }
        
        .error-result {
            background: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-top: 5px;
        }
        
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                position: relative;
                top: 0;
                height: auto;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }
            
            .container {
                margin-left: 0;
                width: 100%;
            }
            
            .main-content {
                flex-direction: column;
            }
            
            .ai-provider-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="logo">ğŸ¤– AI åˆ†é¡ç³»çµ±</div>
            <div class="user-info">
                <a href="admin.html" style="color: white; text-decoration: none; padding: 8px 15px; background: rgba(255,255,255,0.2); border-radius: 5px;">
                    ğŸ”™ è¿”å›å¾Œå°
                </a>
                <span>ğŸ‘¤ ç®¡ç†å“¡</span>
                <span>|</span>
                <span>ğŸ•’ <span id="current-time"></span></span>
            </div>
        </div>
    </div>
    
    <div class="main-content">
        <!-- å´é‚Šæ¬„ -->
        <div class="sidebar">
            <div class="sidebar-title">ğŸ§  AI åŠŸèƒ½</div>
            
            <a href="#" onclick="showTab('classify')" class="sidebar-item" id="tab-classify">
                ğŸ” æ™ºèƒ½åˆ†é¡
            </a>
            
            <a href="#" onclick="showTab('batch')" class="sidebar-item" id="tab-batch">
                ğŸ“¦ æ‰¹é‡è™•ç†
            </a>
            
            <a href="#" onclick="showTab('rules')" class="sidebar-item" id="tab-rules">
                ğŸ“‹ åˆ†é¡è¦å‰‡
            </a>
            
            <a href="#" onclick="showTab('providers')" class="sidebar-item" id="tab-providers">
                ğŸ¤– AI æä¾›å•†
            </a>
            
            <a href="#" onclick="showTab('stats')" class="sidebar-item" id="tab-stats">
                ğŸ“Š çµ±è¨ˆåˆ†æ
            </a>
            
            <div class="sidebar-title" style="margin-top: 30px;">ğŸ”— å¿«é€Ÿé€£çµ</div>
            
            <a href="http://10.140.0.2:3000/admin/cvv-classifier" target="_blank" class="sidebar-item">
                ğŸŒ å®Œæ•´ç‰ˆåˆ†é¡å™¨
            </a>
            
            <a href="admin.html" class="sidebar-item">
                ğŸ–¥ï¸ ç®¡ç†å¾Œå°é¦–é 
            </a>
        </div>
        
        <div class="container">
            <!-- æ™ºèƒ½åˆ†é¡æ¨™ç±¤é  -->
            <div id="classify-tab" class="tab-container">
                <div class="tab-header">
                    <button class="tab-btn active">ğŸ” æ™ºèƒ½åˆ†é¡</button>
                </div>
                <div class="tab-content">
                    <h3>ğŸ¤– AI æ™ºèƒ½ CVV åˆ†é¡å™¨</h3>
                    <p style="color: #7f8c8d; margin-bottom: 30px;">è¼¸å…¥ CVV æ•¸æ“šï¼ŒAI å°‡è‡ªå‹•è§£æåœ‹å®¶ã€æ´»ç‡ã€åº«å­˜ç­‰ä¿¡æ¯</p>
                    

                    
                    <!-- è¼¸å…¥å€åŸŸ -->
                    <div class="form-group">
                        <label class="form-label">CVV æ•¸æ“šè¼¸å…¥ï¼š</label>
                        <textarea 
                            id="cvvInput" 
                            class="form-textarea" 
                            placeholder="è«‹è¼¸å…¥ CVV æ•¸æ“šï¼Œä¾‹å¦‚ï¼š&#10;AR_é˜¿æ ¹å»·ğŸ‡¦ğŸ‡·_å…¨è³‡ 40%-70% [2417]&#10;DE_å¾·åœ‹ğŸ‡©ğŸ‡ª_é ‚ç´šå…¨è³‡ 50%-80% ğŸ”¥ [2109]&#10;BO_ç»åˆ©ç¶­äºğŸ‡§ğŸ‡´_55%-75% ğŸ’ [2269]"
                            style="height: 150px;"
                        ></textarea>
                    </div>
                    
                    <!-- æ“ä½œæŒ‰éˆ• -->
                    <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                        <button onclick="classifyData()" class="btn btn-primary" id="classifyBtn">
                            ğŸš€ é–‹å§‹åˆ†é¡
                        </button>
                        <button onclick="clearInput()" class="btn btn-secondary">
                            ğŸ—‘ï¸ æ¸…ç©ºè¼¸å…¥
                        </button>
                        <button onclick="loadSampleData()" class="btn btn-success">
                            ğŸ“‹ è¼‰å…¥ç¯„ä¾‹
                        </button>
                    </div>
                    
                    <!-- çµæœé¡¯ç¤º -->
                    <div id="classificationResult" class="result-box" style="display: none;">
                        <div id="resultContent"></div>
                    </div>
                </div>
            </div>
            
            <!-- æ‰¹é‡è™•ç†æ¨™ç±¤é  -->
            <div id="batch-tab" class="tab-container" style="display: none;">
                <div class="tab-header">
                    <button class="tab-btn active">ğŸ“¦ æ‰¹é‡è™•ç†</button>
                </div>
                <div class="tab-content">
                    <h3>ğŸ“¦ æ‰¹é‡ CVV æ•¸æ“šè™•ç†</h3>
                    <p style="color: #7f8c8d; margin-bottom: 30px;">ä¸Šå‚³å¤§é‡ CVV æ•¸æ“šé€²è¡Œæ‰¹é‡ AI åˆ†é¡è™•ç†</p>
                    
                    <div class="form-group">
                        <label class="form-label">ä¸Šå‚³ CVV æ•¸æ“šæ–‡ä»¶ï¼š</label>
                        <input type="file" id="batchFile" class="form-input" accept=".txt,.csv,.json">
                        <small style="color: #7f8c8d;">æ”¯æ´æ ¼å¼ï¼šTXT, CSV, JSON</small>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">è™•ç†è¨­ç½®ï¼š</label>
                        <div style="display: flex; gap: 15px; align-items: center;">
                            <label>
                                <input type="checkbox" id="enableValidation" checked>
                                å•Ÿç”¨æ•¸æ“šé©—è­‰
                            </label>
                            <label>
                                <input type="checkbox" id="enableDeduplication" checked>
                                è‡ªå‹•å»é‡
                            </label>
                            <label>
                                <input type="checkbox" id="enablePricing" checked>
                                AI å®šåƒ¹å»ºè­°
                            </label>
                        </div>
                    </div>
                    
                    <button onclick="processBatch()" class="btn btn-primary" id="batchBtn">
                        ğŸš€ é–‹å§‹æ‰¹é‡è™•ç†
                    </button>
                    
                    <!-- æ‰¹é‡è™•ç†é€²åº¦ -->
                    <div id="batchProgress" style="display: none; margin-top: 20px;">
                        <div style="background: #ecf0f1; border-radius: 10px; height: 20px; overflow: hidden;">
                            <div id="progressBar" style="background: #667eea; height: 100%; width: 0%; transition: width 0.3s ease;"></div>
                        </div>
                        <div id="progressText" style="text-align: center; margin-top: 10px; font-weight: bold;"></div>
                    </div>
                    
                    <!-- æ‰¹é‡è™•ç†çµæœ -->
                    <div id="batchResult" class="result-box" style="display: none;">
                        <div id="batchResultContent"></div>
                    </div>
                </div>
            </div>
            
            <!-- çµ±è¨ˆåˆ†ææ¨™ç±¤é  -->
            <div id="stats-tab" class="tab-container" style="display: none;">
                <div class="tab-header">
                    <button class="tab-btn active">ğŸ“Š çµ±è¨ˆåˆ†æ</button>
                </div>
                <div class="tab-content">
                    <h3>ğŸ“Š AI åˆ†é¡ç³»çµ±çµ±è¨ˆ</h3>
                    
                    <!-- çµ±è¨ˆæ•¸æ“š -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="totalProcessed">12,456</div>
                            <div class="stat-label">ç¸½è™•ç†æ•¸é‡</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="successRate">94.2%</div>
                            <div class="stat-label">æˆåŠŸç‡</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="avgTime">1.8s</div>
                            <div class="stat-label">å¹³å‡è™•ç†æ™‚é–“</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="totalCost">$45.67</div>
                            <div class="stat-label">ç¸½ API æˆæœ¬</div>
                        </div>
                    </div>
                    
                    <!-- åœ‹å®¶åˆ†ä½ˆçµ±è¨ˆ -->
                    <div style="background: white; border-radius: 10px; padding: 20px; margin: 20px 0; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                        <h4>ğŸŒ åœ‹å®¶åˆ†ä½ˆçµ±è¨ˆ</h4>
                        <div id="countryStats">
                            <div style="display: flex; justify-content: space-between; margin: 10px 0; padding: 8px; background: #f8f9fa; border-radius: 5px;">
                                <span>ğŸ‡ºğŸ‡¸ ç¾åœ‹</span>
                                <span><strong>3,456 å¼µ (27.8%)</strong></span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin: 10px 0; padding: 8px; background: #f8f9fa; border-radius: 5px;">
                                <span>ğŸ‡¬ğŸ‡§ è‹±åœ‹</span>
                                <span><strong>2,123 å¼µ (17.1%)</strong></span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin: 10px 0; padding: 8px; background: #f8f9fa; border-radius: 5px;">
                                <span>ğŸ‡¨ğŸ‡¦ åŠ æ‹¿å¤§</span>
                                <span><strong>1,876 å¼µ (15.1%)</strong></span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin: 10px 0; padding: 8px; background: #f8f9fa; border-radius: 5px;">
                                <span>ğŸ‡¦ğŸ‡· é˜¿æ ¹å»·</span>
                                <span><strong>1,234 å¼µ (9.9%)</strong></span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin: 10px 0; padding: 8px; background: #f8f9fa; border-radius: 5px;">
                                <span>ğŸ‡©ğŸ‡ª å¾·åœ‹</span>
                                <span><strong>987 å¼µ (7.9%)</strong></span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- AI æ¨¡å‹ä½¿ç”¨çµ±è¨ˆ -->
                    <div style="background: white; border-radius: 10px; padding: 20px; margin: 20px 0; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                        <h4>ğŸ¤– AI æ¨¡å‹ä½¿ç”¨çµ±è¨ˆ</h4>
                        <div id="aiModelStats">
                            <div style="display: flex; justify-content: space-between; margin: 10px 0; padding: 8px; background: #f8f9fa; border-radius: 5px;">
                                <span>ğŸ’ Gemini Pro</span>
                                <span><strong>6,789 æ¬¡ (54.5%)</strong></span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin: 10px 0; padding: 8px; background: #f8f9fa; border-radius: 5px;">
                                <span>ğŸ§  GPT-4</span>
                                <span><strong>3,456 æ¬¡ (27.8%)</strong></span>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin: 10px 0; padding: 8px; background: #f8f9fa; border-radius: 5px;">
                                <span>ğŸ­ Claude</span>
                                <span><strong>2,211 æ¬¡ (17.7%)</strong></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let currentTab = 'classify';
        
        // é é¢åˆå§‹åŒ–
        function initializePage() {
            updateTime();
            setInterval(updateTime, 1000);
            showTab('classify');
        }
        
        // æ›´æ–°æ™‚é–“
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('zh-TW', { 
                hour12: false,
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            document.getElementById('current-time').textContent = timeString;
        }
        
        // é¡¯ç¤ºæ¨™ç±¤é 
        function showTab(tabName) {
            // éš±è—æ‰€æœ‰æ¨™ç±¤é 
            const tabs = ['classify', 'batch', 'rules', 'providers', 'stats'];
            tabs.forEach(tab => {
                const element = document.getElementById(tab + '-tab');
                if (element) {
                    element.style.display = 'none';
                }
                
                const sidebarItem = document.getElementById('tab-' + tab);
                if (sidebarItem) {
                    sidebarItem.classList.remove('active');
                }
            });
            
            // é¡¯ç¤ºé¸ä¸­çš„æ¨™ç±¤é 
            const selectedTab = document.getElementById(tabName + '-tab');
            if (selectedTab) {
                selectedTab.style.display = 'block';
            }
            
            const selectedSidebarItem = document.getElementById('tab-' + tabName);
            if (selectedSidebarItem) {
                selectedSidebarItem.classList.add('active');
            }
            
            currentTab = tabName;
        }
        

        
        // åˆ†é¡æ•¸æ“š
        async function classifyData() {
            const input = document.getElementById('cvvInput').value.trim();
            const resultDiv = document.getElementById('classificationResult');
            const resultContent = document.getElementById('resultContent');
            const classifyBtn = document.getElementById('classifyBtn');
            
            if (!input) {
                alert('è«‹è¼¸å…¥ CVV æ•¸æ“š');
                return;
            }
            
            // é¡¯ç¤ºè¼‰å…¥ç‹€æ…‹
            classifyBtn.textContent = 'ğŸ”„ åˆ†é¡ä¸­...';
            classifyBtn.disabled = true;
            
            resultDiv.style.display = 'block';
            resultDiv.className = 'result-box';
            resultContent.textContent = 'ğŸ¤– AI æ­£åœ¨åˆ†ææ•¸æ“šï¼Œè«‹ç¨å€™...';
            
            try {
                // æ¨¡æ“¬ AI åˆ†é¡è™•ç†
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // æ¨¡æ“¬åˆ†é¡çµæœ
                const mockResult = simulateClassification(input);
                
                resultDiv.className = 'result-box success-result';
                resultContent.innerHTML = `
<strong>âœ… AI åˆ†é¡å®Œæˆï¼</strong>

ğŸ¤– <strong>ä½¿ç”¨æ¨¡å‹:</strong> CVV æ™ºèƒ½åˆ†æå¼•æ“
â±ï¸ <strong>è™•ç†æ™‚é–“:</strong> 1.8 ç§’
ğŸ¯ <strong>ç½®ä¿¡åº¦:</strong> ${mockResult.confidence}%

ğŸ“Š <strong>åˆ†é¡çµæœ:</strong>
${JSON.stringify(mockResult.parsed, null, 2)}

ğŸ’¡ <strong>AI å»ºè­°:</strong>
${mockResult.recommendation}

ğŸ”’ <strong>å®‰å…¨æé†’:</strong>
å·²è‡ªå‹•éš±è—æ•æ„Ÿä¿¡æ¯ï¼Œåƒ…é¡¯ç¤ºå®‰å…¨é è¦½
                `;
                
            } catch (error) {
                resultDiv.className = 'result-box error-result';
                resultContent.textContent = 'âŒ åˆ†é¡å¤±æ•—: ' + error.message;
            } finally {
                classifyBtn.textContent = 'ğŸš€ é–‹å§‹åˆ†é¡';
                classifyBtn.disabled = false;
            }
        }
        
        // æ¨¡æ“¬åˆ†é¡çµæœ
        function simulateClassification(input) {
            const lines = input.split('\n').filter(line => line.trim());
            const results = lines.map(line => {
                // è§£æ CVV æ•¸æ“šæ ¼å¼
                const countryMatch = line.match(/([A-Z]{2})_([^ğŸ‡¦-ğŸ‡¿]*)(ğŸ‡¦ğŸ‡¿|ğŸ³ï¸|ğŸ´)/);
                const rateMatch = line.match(/(\d+%-\d+%)/);
                const stockMatch = line.match(/\[(\d+)\]/);
                const typeMatch = line.match(/(å…¨è³‡|åº«å­˜|é ‚ç´š|ç‰¹åƒ¹)/);
                const specialMatch = line.match(/(ğŸ”¥|ğŸ’|â­|ğŸ¯)/);
                
                return {
                    countryCode: countryMatch ? countryMatch[1] : 'Unknown',
                    country: countryMatch ? countryMatch[2].replace('_', '') : 'æœªçŸ¥',
                    countryFlag: countryMatch ? countryMatch[3] : 'ğŸ³ï¸',
                    dataType: typeMatch ? typeMatch[1] : 'æ¨™æº–',
                    activityRate: rateMatch ? rateMatch[1] : 'æœªçŸ¥',
                    stock: stockMatch ? parseInt(stockMatch[1]) : 0,
                    hasSpecialFeature: !!specialMatch,
                    specialFeature: specialMatch ? specialMatch[1] : null,
                    safePreview: line.replace(/\d{16}/g, '****-****-****-****').replace(/\d{3,4}/g, '***')
                };
            });
            
            return {
                parsed: results,
                confidence: Math.floor(Math.random() * 20) + 80,
                recommendation: generateRecommendation(results),
                totalProcessed: results.length,
                successCount: results.length,
                errorCount: 0
            };
        }
        
        // ç”Ÿæˆå»ºè­°
        function generateRecommendation(results) {
            const countries = [...new Set(results.map(r => r.country))];
            const avgStock = Math.floor(results.reduce((sum, r) => sum + r.stock, 0) / results.length);
            
            return `å»ºè­°å°‡é€™æ‰¹æ•¸æ“šåˆ†ç‚º ${countries.length} å€‹åœ‹å®¶é¡åˆ¥ï¼Œå¹³å‡åº«å­˜ ${avgStock} å¼µã€‚å»ºè­°å„ªå…ˆè™•ç†æœ‰ç‰¹æ®Šæ¨™è¨˜çš„é«˜å“è³ªå¡ç‰‡ã€‚`;
        }
        
        // ç²å–æä¾›å•†åç¨±
        function getProviderName(provider) {
            const names = {
                'openai': 'OpenAI GPT-4',
                'claude': 'Claude (Anthropic)',
                'gemini': 'Google Gemini Pro'
            };
            return names[provider] || provider;
        }
        
        // æ¸…ç©ºè¼¸å…¥
        function clearInput() {
            document.getElementById('cvvInput').value = '';
            const resultDiv = document.getElementById('classificationResult');
            resultDiv.style.display = 'none';
        }
        
        // è¼‰å…¥ç¯„ä¾‹æ•¸æ“š
        function loadSampleData() {
            const sampleData = `AR_é˜¿æ ¹å»·ğŸ‡¦ğŸ‡·_å…¨è³‡ 40%-70% [2417]
DE_å¾·åœ‹ğŸ‡©ğŸ‡ª_é ‚ç´šå…¨è³‡ 50%-80% ğŸ”¥ [2109]
BO_ç»åˆ©ç¶­äºğŸ‡§ğŸ‡´_55%-75% ğŸ’ [2269]
US_ç¾åœ‹ğŸ‡ºğŸ‡¸_ç‰¹åƒ¹ 85%-95% â­ [1456]
BR_å·´è¥¿ğŸ‡§ğŸ‡·_åº«å­˜ 30%-60% [3789]`;
            
            document.getElementById('cvvInput').value = sampleData;
        }
        
        // æ‰¹é‡è™•ç†
        async function processBatch() {
            const fileInput = document.getElementById('batchFile');
            const progressDiv = document.getElementById('batchProgress');
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            const resultDiv = document.getElementById('batchResult');
            const resultContent = document.getElementById('batchResultContent');
            const batchBtn = document.getElementById('batchBtn');
            
            if (!fileInput.files[0]) {
                alert('è«‹é¸æ“‡è¦è™•ç†çš„æ–‡ä»¶');
                return;
            }
            
            // é¡¯ç¤ºé€²åº¦
            batchBtn.textContent = 'ğŸ”„ è™•ç†ä¸­...';
            batchBtn.disabled = true;
            progressDiv.style.display = 'block';
            resultDiv.style.display = 'none';
            
            try {
                // æ¨¡æ“¬æ‰¹é‡è™•ç†
                for (let i = 0; i <= 100; i += 10) {
                    await new Promise(resolve => setTimeout(resolve, 200));
                    progressBar.style.width = i + '%';
                    progressText.textContent = `è™•ç†é€²åº¦: ${i}% (${Math.floor(i * 0.5)} / 50 æ¢è¨˜éŒ„)`;
                }
                
                // é¡¯ç¤ºçµæœ
                resultDiv.style.display = 'block';
                resultDiv.className = 'result-box success-result';
                resultContent.innerHTML = `
<strong>âœ… æ‰¹é‡è™•ç†å®Œæˆï¼</strong>

ğŸ“Š <strong>è™•ç†çµ±è¨ˆ:</strong>
â€¢ ç¸½è¼¸å…¥: 50 æ¢è¨˜éŒ„
â€¢ æˆåŠŸè™•ç†: 48 æ¢ (96%)
â€¢ è™•ç†å¤±æ•—: 2 æ¢ (4%)
â€¢ ç¸½è™•ç†æ™‚é–“: 45.2 ç§’

ğŸŒ <strong>åœ‹å®¶åˆ†ä½ˆ:</strong>
â€¢ ğŸ‡ºğŸ‡¸ ç¾åœ‹: 15 å¼µ (31.3%)
â€¢ ğŸ‡©ğŸ‡ª å¾·åœ‹: 12 å¼µ (25.0%)
â€¢ ğŸ‡¦ğŸ‡· é˜¿æ ¹å»·: 8 å¼µ (16.7%)
â€¢ ğŸ‡§ğŸ‡· å·´è¥¿: 7 å¼µ (14.6%)
â€¢ ğŸ‡§ğŸ‡´ ç»åˆ©ç¶­äº: 6 å¼µ (12.5%)

ğŸ’° <strong>å®šåƒ¹å»ºè­°:</strong>
â€¢ é«˜å“è³ªå¡ç‰‡: $45-65 USDT
â€¢ æ¨™æº–å¡ç‰‡: $25-35 USDT
â€¢ åŸºç¤å¡ç‰‡: $15-25 USDT

ğŸ”’ <strong>å®‰å…¨è™•ç†:</strong>
æ‰€æœ‰æ•æ„Ÿä¿¡æ¯å·²è‡ªå‹•éæ¿¾å’ŒåŠ å¯†å­˜å„²
                `;
                
            } catch (error) {
                resultDiv.style.display = 'block';
                resultDiv.className = 'result-box error-result';
                resultContent.textContent = 'âŒ æ‰¹é‡è™•ç†å¤±æ•—: ' + error.message;
            } finally {
                batchBtn.textContent = 'ğŸš€ é–‹å§‹æ‰¹é‡è™•ç†';
                batchBtn.disabled = false;
                progressDiv.style.display = 'none';
            }
        }
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializePage();
        });
    </script>
</body>
</html>
