{"fsPath":"/home/a0928997578_gmail_com/偉大/scripts/install-security-tools.sh","fileUuid":"61564897-f145-409a-9ec1-5f48c36ae020","fileSizeBytes":2707,"numLines":106,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":107,"addedLines":["#!/bin/bash","","# 🔐 ShopBot 安全工具安裝腳本","# 將安全檢查工具添加到系統 PATH 中","","echo \"🔐 安裝 ShopBot 安全檢查工具...\"","echo \"================================\"","","# 獲取腳本所在目錄","SCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"","PROJECT_ROOT=\"$(dirname \"$SCRIPT_DIR\")\"","","echo \"📁 腳本目錄: $SCRIPT_DIR\"","echo \"📁 項目根目錄: $PROJECT_ROOT\"","","# 檢查腳本是否存在","if [ ! -f \"$SCRIPT_DIR/shopbot-security\" ]; then","    echo \"❌ 錯誤：找不到 shopbot-security 腳本\"","    exit 1","fi","","if [ ! -f \"$SCRIPT_DIR/check-security.sh\" ]; then","    echo \"❌ 錯誤：找不到 check-security.sh 腳本\"","    exit 1","fi","","# 創建符號連結到 /usr/local/bin","echo \"\"","echo \"📋 創建系統符號連結...\"","","# 檢查是否有權限","if [ \"$EUID\" -eq 0 ]; then","    # 以 root 身份運行","    ln -sf \"$SCRIPT_DIR/shopbot-security\" /usr/local/bin/shopbot-security","    ln -sf \"$SCRIPT_DIR/check-security.sh\" /usr/local/bin/check-security","    ","    echo \"✅ 已創建系統級符號連結\"","    echo \"   /usr/local/bin/shopbot-security\"","    echo \"   /usr/local/bin/check-security\"","else","    # 以普通用戶身份運行","    if [ -d \"$HOME/.local/bin\" ]; then","        mkdir -p \"$HOME/.local/bin\"","        ln -sf \"$SCRIPT_DIR/shopbot-security\" \"$HOME/.local/bin/shopbot-security\"","        ln -sf \"$SCRIPT_DIR/check-security.sh\" \"$HOME/.local/bin/check-security\"","        ","        echo \"✅ 已創建用戶級符號連結\"","        echo \"   $HOME/.local/bin/shopbot-security\"","        echo \"   $HOME/.local/bin/check-security\"","        ","        # 檢查 PATH 是否包含 ~/.local/bin","        if [[ \":$PATH:\" != *\":$HOME/.local/bin:\"* ]]; then","            echo \"\"","            echo \"⚠️  警告：$HOME/.local/bin 不在您的 PATH 中\"","            echo \"   請將以下行添加到您的 ~/.bashrc 或 ~/.zshrc 文件：\"","            echo \"\"","            echo \"   export PATH=\\\"\\$HOME/.local/bin:\\$PATH\\\"\"","            echo \"\"","            echo \"   然後重新載入配置：\"","            echo \"   source ~/.bashrc  # 或 source ~/.zshrc\"","        fi","    else","        echo \"❌ 無法創建符號連結，請以 root 身份運行此腳本\"","        echo \"   或手動創建符號連結\"","    fi","fi","","echo \"\"","echo \"📋 創建項目別名...\"","","# 創建項目別名腳本","cat > \"$PROJECT_ROOT/shopbot-security\" << 'EOF'","#!/bin/bash","# 🔐 ShopBot 安全檢查工具別名","# 從項目根目錄運行安全檢查","","SCRIPT_DIR=\"$(cd \"$(dirname \"${BASH_SOURCE[0]}\")\" && pwd)\"","\"$SCRIPT_DIR/scripts/shopbot-security\" \"$@\"","EOF","","chmod +x \"$PROJECT_ROOT/shopbot-security\"","","echo \"✅ 已創建項目別名腳本: $PROJECT_ROOT/shopbot-security\"","","echo \"\"","echo \"🔧 使用方法：\"","echo \"\"","echo \"1. 從任何目錄運行：\"","echo \"   shopbot-security\"","echo \"   shopbot-security --help\"","echo \"   shopbot-security -e  # 只檢查環境變數\"","echo \"   shopbot-security -s  # 顯示 Git 狀態\"","echo \"\"","echo \"2. 從項目根目錄運行：\"","echo \"   ./shopbot-security\"","echo \"   ./scripts/shopbot-security\"","echo \"   ./scripts/check-security.sh\"","echo \"\"","echo \"3. 檢查幫助：\"","echo \"   shopbot-security --help\"","echo \"\"","echo \"🎉 安裝完成！現在您可以使用 'shopbot-security' 命令了。\"","echo \"\"","echo \"💡 提示：如果命令未找到，請重新載入您的 shell 配置：\"","echo \"   source ~/.bashrc  # 或 source ~/.zshrc\"",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000001,1000004,1000005,1000001,1000006,1000007,1000008,1000001,1000009,1000010,1000001,1000011,1000012,1000013,1000014,1000015,1000001,1000016,1000017,1000014,1000015,1000001,1000018,1000019,1000020,1000001,1000021,1000022,1000023,1000024,1000025,1000026,1000027,1000028,1000029,1000030,1000031,1000032,1000033,1000034,1000035,1000036,1000037,1000038,1000039,1000036,1000040,1000041,1000042,1000043,1000044,1000042,1000045,1000042,1000046,1000047,1000048,1000049,1000050,1000051,1000052,1000015,1000001,1000019,1000053,1000001,1000054,1000055,1000000,1000056,1000057,1000001,1000007,1000058,1000059,1000001,1000060,1000001,1000061,1000001,1000019,1000062,1000019,1000063,1000064,1000065,1000066,1000067,1000019,1000068,1000069,1000070,1000071,1000019,1000072,1000065,1000019,1000073,1000019,1000074,1000075,1000001]}],"gitInfo":{"gitInfo":{"gitRoot":"/home/a0928997578_gmail_com","branch":"main","commitHash":"10d2e80a85ee15af62b5477ed063e2687813e6b1"}},"kind":"KIND_ADDED"}