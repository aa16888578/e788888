{"fsPath":"/home/a0928997578_gmail_com/å‰å¤§/ENVIRONMENT_SETUP.md","fileUuid":"50a7af18-f2cf-40d2-a812-7214334f9a63","fileSizeBytes":4166,"numLines":246,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":2,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":247,"addedLines":["# ğŸŒ ShopBot ç’°å¢ƒé…ç½®èªªæ˜","","## âš ï¸ **é‡è¦å®‰å…¨æé†’**","","**ç’°å¢ƒè®Šæ•¸æ–‡ä»¶åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œçµ•å°ä¸è¦æäº¤åˆ° Git å€‰åº«ï¼**","","- âœ… å¯ä»¥æäº¤ï¼š`env.example`ã€`env.local.example`","- âŒ çµ•å°ä¸è¦æäº¤ï¼š`.env`ã€`.env.local`ã€`.env.production`","","## ğŸ” **å®‰å…¨æª¢æŸ¥æ¸…å–®**","","åœ¨é–‹å§‹é…ç½®ä¹‹å‰ï¼Œè«‹ç¢ºèªï¼š","- [ ] é …ç›®æ ¹ç›®éŒ„æœ‰ `.gitignore` æ–‡ä»¶","- [ ] `.gitignore` åŒ…å« `.env*` æ¨¡å¼","- [ ] æ²’æœ‰ `.env` æ–‡ä»¶è¢«æ„å¤–æäº¤åˆ° Git","- [ ] åœ˜éšŠæˆå“¡éƒ½çŸ¥é“ä¸è¦æäº¤ç’°å¢ƒè®Šæ•¸æ–‡ä»¶","","## ğŸ“‹ **æ¦‚è¿°**","æœ¬æ–‡æª”è©³ç´°èªªæ˜å¦‚ä½•é…ç½® ShopBot å¤šå¹³å°é›»å•†ç³»çµ±çš„ç’°å¢ƒè®Šæ•¸ï¼ŒåŒ…æ‹¬ Firebaseã€Telegram Botã€æ”¯ä»˜ç³»çµ±ç­‰æ‰€æœ‰å¿…è¦é…ç½®ã€‚","","## ğŸš€ **å¿«é€Ÿé–‹å§‹**","","### 1. è¤‡è£½ç’°å¢ƒé…ç½®æ–‡ä»¶","```bash","cp env.example .env","```","","### 2. ç·¨è¼¯ .env æ–‡ä»¶","æ ¹æ“šæ‚¨çš„å¯¦éš›é…ç½®å¡«å…¥ç›¸æ‡‰çš„å€¼ã€‚","","### 3. é‡å•Ÿæœå‹™","é…ç½®å®Œæˆå¾Œé‡å•Ÿç›¸é—œæœå‹™ã€‚","","---","","## ğŸ”¥ **Firebase é…ç½®**","","### ç²å– Firebase é…ç½®","1. è¨ªå• [Firebase Console](https://console.firebase.google.com/)","2. é¸æ“‡æ‚¨çš„é …ç›®","3. é»æ“Šã€Œé …ç›®è¨­ç½®ã€â†’ã€Œæœå‹™å¸³æˆ¶ã€","4. é»æ“Šã€Œç”Ÿæˆæ–°çš„ç§é‘°ã€","5. ä¸‹è¼‰ JSON æ–‡ä»¶","","### é…ç½®èªªæ˜","```bash","# é …ç›® ID","FIREBASE_PROJECT_ID=your-project-id","","# ç§é‘° ID","FIREBASE_PRIVATE_KEY_ID=your-private-key-id","","# ç§é‘° (æ³¨æ„å¼•è™Ÿå’Œæ›è¡Œç¬¦)","FIREBASE_PRIVATE_KEY=\"-----BEGIN PRIVATE KEY-----\\nYour Private Key Here\\n-----END PRIVATE KEY-----\\n\"","","# å®¢æˆ¶ç«¯éƒµç®±","FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project-id.iam.gserviceaccount.com","","# å®¢æˆ¶ç«¯ ID","FIREBASE_CLIENT_ID=your-client-id","","# èªè­‰ URI","FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth","","# Token URI","FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token","","# èªè­‰æä¾›è€…è­‰æ›¸ URL","FIREBASE_AUTH_PROVIDER_X509_CERT_URL=https://www.googleapis.com/oauth2/v1/certs","","# å®¢æˆ¶ç«¯è­‰æ›¸ URL","FIREBASE_CLIENT_X509_CERT_URL=https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-xxxxx%40your-project-id.iam.gserviceaccount.com","```","","---","","## ğŸ¤– **Telegram Bot é…ç½®**","","### å‰µå»º Telegram Bot","1. åœ¨ Telegram ä¸­æœç´¢ `@BotFather`","2. ç™¼é€ `/newbot` å‘½ä»¤","3. æŒ‰ç…§æç¤ºè¨­ç½® Bot åç¨±å’Œç”¨æˆ¶å","4. ç²å– Bot Token","","### é…ç½®èªªæ˜","```bash","# Bot Token","TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz","","# Webhook å¯†é‘° (è‡ªå®šç¾©)","TELEGRAM_WEBHOOK_SECRET=your-secret-key","","# Webhook URL (éƒ¨ç½²å¾Œè¨­ç½®)","TELEGRAM_WEBHOOK_URL=https://your-project-id.cloudfunctions.net/telegramWebhook","```","","### è¨­ç½® Webhook","```bash","curl -F \"url=https://your-project-id.cloudfunctions.net/telegramWebhook\" \\","     https://api.telegram.org/bot<BOT_TOKEN>/setWebhook","```","","---","","## ğŸ’° **æ”¯ä»˜ç³»çµ±é…ç½®**","","### USDT-TRC20 é…ç½®","```bash","# Tron éŒ¢åŒ…åœ°å€","TRON_WALLET_ADDRESS=TYourTronWalletAddressHere","","# Tron ç¶²çµ¡ (mainnet/testnet)","TRON_NETWORK=mainnet","","# Tron API å¯†é‘°","TRON_API_KEY=your-tron-api-key","","# åŒ¯ç‡ API å¯†é‘°","EXCHANGE_RATE_API_KEY=your-exchange-rate-api-key","```","","---","","## ğŸ›¡ï¸ **å®‰å…¨æœ€ä½³å¯¦è¸**","","### 1. ç’°å¢ƒè®Šæ•¸ç®¡ç†","```bash","# æ­£ç¢ºçš„åšæ³•","cp env.example .env","# ç·¨è¼¯ .env å¡«å…¥å¯¦éš›å€¼","","# éŒ¯èª¤çš„åšæ³• - çµ•å°ä¸è¦é€™æ¨£åšï¼","git add .env","git commit -m \"Add environment variables\"","```","","### 2. ç”Ÿç”¢ç’°å¢ƒ","```bash","# ç”Ÿç”¢ç’°å¢ƒä½¿ç”¨ä¸åŒçš„æ–‡ä»¶","cp env.example .env.production","# ç·¨è¼¯ .env.production å¡«å…¥ç”Ÿç”¢ç’°å¢ƒé…ç½®","```","","### 3. åœ˜éšŠå”ä½œ","```bash","# æ¯å€‹é–‹ç™¼è€…éƒ½æœ‰è‡ªå·±çš„ .env","# ä¸è¦å…±äº«åŒ…å«çœŸå¯¦ API é‡‘é‘°çš„æ–‡ä»¶","# åªå…±äº« env.example ç¯„ä¾‹æ–‡ä»¶","```","","---","","## ğŸ” **æ•…éšœæ’é™¤**","","### å¸¸è¦‹å•é¡Œ","","1. **ç’°å¢ƒè®Šæ•¸æœªç”Ÿæ•ˆ**","   ```bash","   # é‡æ–°å•Ÿå‹•æœå‹™","   npm run dev","   ```","","2. **Firebase é€£æ¥å¤±æ•—**","   - æª¢æŸ¥ API é‡‘é‘°æ˜¯å¦æ­£ç¢º","   - ç¢ºèªé …ç›® ID æ˜¯å¦åŒ¹é…","   - æª¢æŸ¥ Firebase é …ç›®æ˜¯å¦å•Ÿç”¨","","3. **Telegram Bot ç„¡éŸ¿æ‡‰**","   - æª¢æŸ¥ Bot Token æ˜¯å¦æ­£ç¢º","   - ç¢ºèª Bot æ˜¯å¦å·²å•Ÿå‹•","   - æª¢æŸ¥ webhook è¨­ç½®","","### èª¿è©¦æŠ€å·§","","```bash","# æª¢æŸ¥ç’°å¢ƒè®Šæ•¸æ˜¯å¦æ­£ç¢ºè¼‰å…¥","console.log('Firebase Config:', {","  projectId: process.env.FIREBASE_PROJECT_ID,","  clientEmail: process.env.FIREBASE_CLIENT_EMAIL,","});","","# æª¢æŸ¥ .env æ–‡ä»¶æ˜¯å¦è¢«æ­£ç¢ºè®€å–","ls -la .env*","```","","---","","## ğŸ“ **æ–‡ä»¶çµæ§‹**","","```","å‰å¤§/","â”œâ”€â”€ .env                    # ç’°å¢ƒè®Šæ•¸ (ä¸è¦æäº¤åˆ° Git)","â”œâ”€â”€ .env.production         # ç”Ÿç”¢ç’°å¢ƒè®Šæ•¸ (ä¸è¦æäº¤åˆ° Git)","â”œâ”€â”€ env.example             # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹ (å¯ä»¥æäº¤åˆ° Git)","â”œâ”€â”€ .gitignore              # Git å¿½ç•¥æ–‡ä»¶ (ä¿è­·æ•æ„Ÿä¿¡æ¯)","â”œâ”€â”€ admin/","â”‚   â”œâ”€â”€ .env.local          # ç®¡ç†å¾Œå°ç’°å¢ƒè®Šæ•¸ (ä¸è¦æäº¤åˆ° Git)","â”‚   â””â”€â”€ env.local.example   # ç®¡ç†å¾Œå°ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹ (å¯ä»¥æäº¤åˆ° Git)","â”œâ”€â”€ functions/","â”‚   â””â”€â”€ .env                # Functions ç’°å¢ƒè®Šæ•¸ (ä¸è¦æäº¤åˆ° Git)","â””â”€â”€ web/","    â””â”€â”€ .env                # MiniWeb ç’°å¢ƒè®Šæ•¸ (ä¸è¦æäº¤åˆ° Git)","```","","---","","## ğŸš¨ **ç·Šæ€¥æƒ…æ³**","","å¦‚æœæ‚¨æ„å¤–æäº¤äº†ç’°å¢ƒè®Šæ•¸æ–‡ä»¶ï¼š","","1. **ç«‹å³æ’¤éŠ·æäº¤**","   ```bash","   git reset --soft HEAD~1","   ```","","2. **å¾ Git æ­·å²ä¸­ç§»é™¤**","   ```bash","   git filter-branch --force --index-filter \\","     'git rm --cached --ignore-unmatch .env*' \\","     --prune-empty --tag-name-filter cat -- --all","   ```","","3. **å¼·åˆ¶æ¨é€**","   ```bash","   git push origin --force","   ```","","4. **ç«‹å³æ›´æ› API é‡‘é‘°**","   - åœ¨ Firebase Console ä¸­é‡æ–°ç”Ÿæˆ API é‡‘é‘°","   - åœ¨ Telegram BotFather ä¸­é‡æ–°ç”Ÿæˆ Bot Token","","---","","## ğŸ“ **éœ€è¦å¹«åŠ©ï¼Ÿ**","","å¦‚æœæ‚¨åœ¨è¨­ç½®ç’°å¢ƒè®Šæ•¸æ™‚é‡åˆ°å•é¡Œï¼š","","1. æª¢æŸ¥æœ¬æ–‡ä»¶ä¸­çš„é…ç½®èªªæ˜","2. ç¢ºèªæ‰€æœ‰å¿…éœ€çš„å€¼éƒ½å·²å¡«å…¥","3. é‡æ–°å•Ÿå‹•ç›¸é—œæœå‹™","4. æª¢æŸ¥éŒ¯èª¤æ—¥èªŒ","","---","","**è¨˜ä½ï¼šå®‰å…¨ç¬¬ä¸€ï¼æ°¸é ä¸è¦å°‡åŒ…å«çœŸå¯¦ API é‡‘é‘°çš„æ–‡ä»¶æäº¤åˆ° Git å€‰åº«ã€‚**",""],"tokenizedAddedLines":[1000001,1,1000002,1,1000003,1,1000004,1000005,1,1000006,1,1000007,1000008,1000009,1000010,1000011,1,1000012,1000013,1,1000014,1,1000015,1000016,1000017,1000018,1,1000019,1000020,1,1000021,1000022,1,1000023,1,1000024,1,1000025,1000026,1000027,1000028,1000029,1000030,1,1000031,1000016,1000032,1000033,1,1000034,1000035,1,1000036,1000037,1,1000038,1000039,1,1000040,1000041,1,1000042,1000043,1,1000044,1000045,1,1000046,1000047,1,1000048,1000049,1000018,1,1000023,1,1000050,1,1000051,1000052,1000053,1000054,1000055,1,1000031,1000016,1000056,1000057,1,1000058,1000059,1,1000060,1000061,1000018,1,1000062,1000016,1000063,1000064,1000018,1,1000023,1,1000065,1,1000066,1000016,1000067,1000068,1,1000069,1000070,1,1000071,1000072,1,1000073,1000074,1000018,1,1000023,1,1000075,1,1000076,1000016,1000077,1000017,1000078,1,1000079,1000080,1000081,1000018,1,1000082,1000016,1000083,1000084,1000085,1000018,1,1000086,1000016,1000087,1000088,1000089,1000018,1,1000023,1,1000090,1,1000091,1,1000092,1000093,1000094,1000095,1000096,1,1000097,1000098,1000099,1000100,1,1000101,1000102,1000103,1000104,1,1000105,1,1000016,1000106,1000107,1000108,1000109,1000110,1,1000111,1000112,1000018,1,1000023,1,1000113,1,1000018,1000114,1000115,1000116,1000117,1000118,1000119,1000120,1000121,1000122,1000123,1000124,1000125,1000018,1,1000023,1,1000126,1,1000127,1,1000128,1000093,1000129,1000096,1,1000130,1000093,1000131,1000132,1000133,1000096,1,1000134,1000093,1000135,1000096,1,1000136,1000137,1000138,1,1000023,1,1000139,1,1000140,1,1000141,1000142,1000143,1000144,1,1000023,1,1000145,1]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_MODIFIED"}