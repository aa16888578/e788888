{"fsPath":"/home/a0928997578_gmail_com/偉大/functions/src/services/database.ts","fileUuid":"5f38d33a-4d38-437e-8f68-eeba6ab9d2c5","fileSizeBytes":7318,"numLines":260,"diffChanges":[{"originalStartLineNumberOneIndexed":96,"originalEndLineNumberExclusiveOneIndexed":96,"modifiedStartLineNumberOneIndexed":96,"modifiedEndLineNumberExclusiveOneIndexed":112,"addedLines":["","  // 獲取單個商品 (別名方法)","  static async getProduct(productId: string): Promise<Product | null> {","    return this.getProductById(productId);","  }","","  // 根據分類獲取商品","  static async getProductsByCategory(categoryId: string): Promise<Product[]> {","    const snapshot = await db.collection('products')","      .where('category', '==', categoryId)","      .where('status', '==', 'active')","      .orderBy('sortOrder', 'asc')","      .get();","    ","    return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }) as Product);","  }"],"tokenizedAddedLines":[4,1000139,1000140,1000141,25,4,1000142,1000143,1000144,1000145,29,103,31,16,63,25]},{"originalStartLineNumberOneIndexed":175,"originalEndLineNumberExclusiveOneIndexed":175,"modifiedStartLineNumberOneIndexed":191,"modifiedEndLineNumberExclusiveOneIndexed":199,"addedLines":["","  // 獲取單個分類","  static async getCategory(categoryId: string): Promise<Category | null> {","    const doc = await db.collection('categories').doc(categoryId).get();","    if (!doc.exists) return null;","    ","    return { id: doc.id, ...doc.data() } as Category;","  }"],"tokenizedAddedLines":[4,1000146,1000147,1000148,66,16,1000149,25]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_MODIFIED"}