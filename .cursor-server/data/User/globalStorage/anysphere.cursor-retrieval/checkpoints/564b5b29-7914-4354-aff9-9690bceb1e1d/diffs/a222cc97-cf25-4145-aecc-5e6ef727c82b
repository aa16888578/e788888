{"fsPath":"/home/a0928997578_gmail_com/偉大/functions/src/utils/referral.ts","fileUuid":"a222cc97-cf25-4145-aecc-5e6ef727c82b","fileSizeBytes":779,"numLines":42,"diffChanges":[{"originalStartLineNumberOneIndexed":1,"originalEndLineNumberExclusiveOneIndexed":1,"modifiedStartLineNumberOneIndexed":1,"modifiedEndLineNumberExclusiveOneIndexed":43,"addedLines":["/**"," * 推薦碼生成工具"," */","","/**"," * 生成唯一的推薦碼"," * 格式：AGENT + 6位隨機字符"," */","export function generateReferralCode(): string {","  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';","  let result = 'AGENT';","  ","  for (let i = 0; i < 6; i++) {","    result += chars.charAt(Math.floor(Math.random() * chars.length));","  }","  ","  return result;","}","","/**"," * 驗證推薦碼格式"," */","export function validateReferralCode(code: string): boolean {","  const pattern = /^AGENT[A-Z0-9]{6}$/;","  return pattern.test(code);","}","","/**"," * 生成短推薦碼（用於分享）"," * 格式：AG + 4位隨機字符"," */","export function generateShortReferralCode(): string {","  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';","  let result = 'AG';","  ","  for (let i = 0; i < 4; i++) {","    result += chars.charAt(Math.floor(Math.random() * chars.length));","  }","  ","  return result;","}",""],"tokenizedAddedLines":[1000000,1000001,1000002,1000003,1000000,1000004,1000005,1000002,1000006,1000007,1000008,1000009,1000010,1000011,1000012,1000009,1000013,1000014,1000003,1000000,1000015,1000002,1000016,1000017,1000018,1000014,1000003,1000000,1000019,1000020,1000002,1000021,1000007,1000022,1000009,1000023,1000011,1000012,1000009,1000013,1000014,1000003]}],"gitInfo":{"noRepoFound":true},"kind":"KIND_ADDED"}